@page
@model Veterinaria.App.Presentacion.Pages.AdminMascotasModel
@{
}
<div style="margin: 2% 2%; color:rgb(56, 100, 242); width: 96%" class="container mascotaregistro">
	<h3 style="text-align: center; padding:10px; ">
		Gestión de Mascotas
	</h3>
	<table id="tabla_mascotas" class="table table-bordered">
		<thead style="background-color:rgb(56, 100, 242); color:white; text-align: center">
			<tr>
				<th>Nombre</th>
				<th>Especie</th>
				<th>Raza</th>
				<th>Sexo</th>
				<th>Cuidador</th>
				<th>Acciones</th>
			</tr>
		</thead>
		<tbody>
			@if (Model.listaMascotas != null)
			{
				foreach (var m in Model.listaMascotas)
				{

					<tr>
						<td>@m.Nombre</td>
						<td>@m.Especie</td>
						<td>@m.Raza</td>
						<td>@m.Sexo</td>
						<td>@m.IdCuidador</td>
						<td style="text-align:center">
							<div class="container">
                                <div class="row" style=" display:flex;">
                                    <div class="col">
										<button class="btn btn-secondary" type="submit" id="detalle">Detalles</button>
									</div>
									<div class="col">
										<form method="GET">
											<a class="btn btn-primary" type="submit" asp-page="/Admin/AdminMascotas"
											asp-route-idMascota="@m.Id">Editar</a>
										</form>
									</div>
									<div class="col">
										<form method="POST">
											<button class="btn btn-danger" type="submit" asp-page-handler="eliminar"
											asp-route-idMascota="@m.Id">Eliminar</button>
										</form>
									</div>
								</div>
							</div
						</td>
					</tr>

				}
			}

		</tbody>
	</table>
	<br><br>
	<div id="accordion">
		<div class="card">
			<div class="card-header" id="headingOne">
				<h2 class="mb-0">
					<button class="btn btn-link btn-block text-left" type="button" data-toggle="collapse"
						data-target="#collapseOne" aria-expanded="true" aria-controls="collapseListaVeterinarios">
						Crear Mascota
					</button>
				</h2>
			</div>

			<div id="collapseOne" class="@(Model.modeForm == "edicion" ? "collapse show" : "collapse")"
				aria-labelledby="headingOne" data-parent="#accordion">
				<div class="card-body">
					<form method="POST">
						<table>
							<tr>
								<td style="padding: 10px;">Nombre(*)</td>

								<td style="padding: 10px;">
									<input asp-for="@Model.mascotaActual.Id" class="form-control" name="Id"
										type="hidden">
									<input asp-for="@Model.mascotaActual.Nombre" class="form-control" name="nombre"
										type="text" required>
								</td>
							</tr>
							<tr>
								<td style="padding: 10px;">Especie(*)</td>
								<td style="padding: 10px;"><input asp-for="@Model.mascotaActual.Especie"
										class="form-control" name="especie" type="text" required></td>
							</tr>
							<tr>
								<td style="padding: 10px;">Raza(*)</td>
								<td style="padding: 10px;"><input asp-for="@Model.mascotaActual.Raza"
										class="form-control" name="raza" type="text"></td>
							</tr>
							<tr>
								<td style="padding: 10px;">Peso(KG)</td>
								<td style="padding: 10px;"><input class="form-control"
										asp-for="@Model.mascotaActual.Peso" name="peso" type="number"></td>
							</tr>
							<tr>
								<td style="padding: 10px;">Edad(años)</td>
								<td style="padding: 10px;"><input class="form-control" name="edad"
										asp-for="@Model.mascotaActual.Edad" type="number"></td>
							</tr>
							<tr>
								<td style="padding: 10px;">Sexo(*)</td>
								<td style="padding: 10px;"><select name="sexo" asp-for="@Model.mascotaActual.Sexo">
										<option value="Macho">Macho</option>
										<option value="Hembra">Hembra</option>
									</select></td>
							</tr>
							<tr>
								<td style="padding: 10px">Identificación Cuidador(*)</td>
								<td style="padding: 10px"><input class="form-control"
										asp-for="@Model.mascotaActual.IdCuidador" name="idcuidador" type="number"
										required></td>
								<td style="padding: 10px">
									<button class="btn btn-info" type="submit"><span class="glyphicon glyphicon-search">
											Buscar </span></button>
									<button class="btn btn-success" type="submit"><span
											class="glyphicon glyphicon-remove">
											Crear </span></button>
								</td>
							</tr>
							<tr>
								<td style="padding: 10px;">
									@if (Model.modeForm == "edicion")
									{
										<button type="submit" class="btn btn-primary"
										asp-page-handler="Editar">Editar</button>
									}
									else
									{
										<button class="btn btn-success" asp-page-handler="Adicionar" type="submit"><span
											class="glyphicon glyphicon-save">
												Guardar </span></button>
									}
									<a class="btn btn-danger" asp-page="/Index"><span
											class="glyphicon glyphicon-backward">Regresar</span>
									</a>
								</td>
							</tr>

						</table>
					</form>
				</div>
			</div>
		</div>




		@section Scripts{
		<script>
			$(document).ready(function () {
				$('#tabla_mascotas').DataTable();
			});
		</script>
		}
	</div>